<div *ngIf="!fileIds.length; else showID">
  <div class="row">
    <div class="col s12 m3">
      <div class="halign-wrapper">
        <div id="dragZone" class="valign-wrapper" (drop)="dropHandler($event)">
          <span>Drop files here</span>
        </div>
        <div>
          <label>
            <input
              #filePicker
              id="filePicker"
              type="file"
              (change)="setFilesToUpload($event.target.files)"
              multiple
            />
            <span class="btn">Add Files</span>
          </label>
        </div>
        <button class="btn" (click)="uploadFile()" [disabled]="!filesToUpload.length">Upload</button>
      </div>
    </div>
    <div class="col s12 m9">
      <div>
        <div *ngIf="filesToUpload.length">
          <ul class="collection">
            <li *ngFor="let file of filesToUpload" class="collection-item">
              {{ file.name }}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #showID>
  <div class="halign-wrapper">
    <div *ngFor="let upFile of fileIds" class="card-panel">
      <div>
        Uploaded file "{{ upFile.file.name }}" successfully with ID
        <span class="select">{{ upFile.fileid }}</span>
      </div>
      <div>
        Decryption key. Don't lose it!
        <br />
      </div>
      <div class="keyholder">
        <code><span class="select">{{ upFile.ivKey }}#{{ upFile.encKey }}</span></code>
      </div>
    </div>
    <button class="btn" (click)="reset()">Upload more files</button>
  </div>
</ng-template>
